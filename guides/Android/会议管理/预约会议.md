本文介绍如何通过网易会议组件预约会议，并进行预约会议的管理，包括编辑预约会议、取消预约会议、查询预约会议信息、查询指定状态下的预约会议列表。

## 前提条件

根据本文操作前，请确保您已经完成了 [登录鉴权](https://doc.yunxin.163.com/meeting/guide/TAzNjk1MDc?platform=android)。

## <span id="预约会议">预约会议</span>

在已经完成 SDK 登录鉴权的状态下，预约一个新的会议。

调用 [`scheduleMeeting`](https://doc.yunxin.163.com/meetingkit/references/android/dokka/Latest/zh/com/netease/yunxin/kit/meeting/sdk/NEPreMeetingService.html#scheduleMeeting(com.netease.yunxin.kit.meeting.sdk.NEMeetingItem,com.netease.yunxin.kit.meeting.sdk.NECallback)) 方法预约会议并进行回调处理，您可根据错误码判断接口是否调用成功。

::: note note
- 该接口仅支持 **在登录鉴权成功后调用**，其他情况下会调用失败。
- 预约会议时，`scheduleMeeting` 接口中的参数 `NEMeetingItem`，必须是 `createScheduleMeetingItem` 返回的 `NEMeetingItem` 对象。
:::

**示例代码如下：**

```Java
NEMeetingItem meetingItem = NEMeetingKit.getInstance().getPreMeetingService().createScheduleMeetingItem();

meetingItem.setSubject("会议主题")            // 预约会议主题
            .setStartTime(long startTime)   // 预约会议开始时间
            .setEndTime(long endTime);      // 预约会议结束时间
 
NEMeetingKit.getInstance().getPreMeetingService().scheduleMeeting(meetingItem, new NECallback<NEMeetingItem>() {
                    @Override
                    public void onResult(int resultCode, String resultMsg, NEMeetingItem resultData) {
                        if (resultCode == NEMeetingError.ERROR_CODE_SUCCESS) {
                            // code
                        }
                    }
                });
```

## <span id="编辑预约会议">编辑预约会议</span>

在已经完成 SDK 登录鉴权的状态下，编辑一个已经预约的会议。

调用 `editMeeting` 方法编辑会议并进行回调处理，您可根据错误码判断接口是否调用成功。

::: note note
该接口仅支持 **在登录鉴权成功后调用**，其他情况下会调用失败。
:::

**示例代码如下：**

```Java
meetingItem.setSubject("新的会议主题");
NEMeetingKit.getInstance().getPreMeetingService().editMeeting(meetingItem, false, new NECallback<NEMeetingItem>() {
    @Override
    public void onResult(int resultCode, String resultMsg, NEMeetingItem resultData) {
        if (resultCode == NEMeetingError.ERROR_CODE_SUCCESS) {
            // code
        }
    }
});
```

## <span id="取消预约会议">取消预约会议</span>

在已经完成 SDK 登录鉴权的状态下，取消一个已经预约的会议。

调用 `cancelMeeting` 方法取消预约会议并进行回调处理，您可根据错误码判断接口是否调用成功。

::: note note
- 该接口仅支持 **在登录鉴权成功后调用**，其他情况下会调用失败。
- 取消预约会议时，`cancelMeeting` 接口中的参数 `meetingId` 是服务端返回的唯一码，请从 `NEMeetingItem#getMeetingId` 处获取。
- 您无法取消正在进行中的、处于回收状态的或已经结束的会议。
:::

**示例代码如下：**

```Java
NEMeetingKit.getInstance().getPreMeetingService().cancelMeeting(meetingId, false, new NECallback<Void>() {
            @Override
            public void onResult(int resultCode, String resultMsg, Void resultData) {
                // code
            }
        });
```

## <span id="查询预约会议信息">查询预约会议信息</span>

在已经完成 SDK 登录鉴权的状态下，查询一个已经预约的会议的信息。

调用 `getMeetingItemByNum` 方法查询预约会议信息并进行回调处理，您可根据错误码判断接口是否调用成功。

::: note note
- 该接口仅支持 **在登录鉴权成功后调用**，其他情况下会调用失败。
- 查询预约会议的信息时，`getMeetingItemByNum` 接口中的参数 `meetingNum` 是服务端返回的会议号，请从 `NEMeetingItem#getMeetingNum` 处获取。
:::

**示例代码如下：**

```Java
NEMeetingKit.getInstance().getPreMeetingService().getMeetingItemByNum(meetingNum, new NECallback<NEMeetingItem>() {
            @Override
            public void onResult(int resultCode, String resultMsg, NEMeetingItem resultData) {
                // code
            }
        });
```

## <span id="查询指定状态下的预约会议列表">查询指定状态下的预约会议列表</span>

在已经完成 SDK 登录鉴权的状态下，根据指定的一种或多种会议状态在已预约的所有会议基础上筛选出会议列表。

调用 `getScheduledMeetingList` 方法查询指定状态下的预约会议列表并进行回调处理，您可根据错误码判断接口是否调用成功。

::: note note
- 该接口仅支持 **在登录鉴权成功后调用**，其他情况下会调用失败。
- 调用此接口时，默认返回最近一个月的指定会议列表。
:::

**示例代码如下：**

```Java
List<NEMeetingItemStatus> status = new ArrayList<>();
status.add(NEMeetingItemStatus.init);
status.add(NEMeetingItemStatus.started);
status.add(NEMeetingItemStatus.ended);
NEMeetingKit.getInstance().getPreMeetingService().getScheduledMeetingList(status, new NECallback<List<NEMeetingItem> >() {
  @Override
  public void onResult(int resultCode, String resultMsg, List<NEMeetingItem> resultData) {
    // code
  }
});
```

## <span id="监听预约会议状态">监听预约会议状态</span>

通过注册预约会议状态回调接口，获取预约会议状态变更的通知。

1. 注册回调接口 `addListener` 开始监听，并在回调方法中根据您的需求处理相应事件。

    ::: note note
    该接口在初始化 SDK 成功后即可调用。
    :::

   **示例代码如下：**

    ```Java
    NEPreMeetingListener listener = new NEPreMeetingListener() {

    @Override
    public void onMeetingItemInfoChanged(List<NEMeetingItem> meetingItemList) {
        // code
    }
    };
    NEMeetingKit.getInstance().getPreMeetingService().addListener(listener);
    ```

2. 反注册回调接口 `removeListener` 停止监听。

   **示例代码如下：**

    ```Java
    NEMeetingKit.getInstance().getPreMeetingService().removeListener(listener);
    ```