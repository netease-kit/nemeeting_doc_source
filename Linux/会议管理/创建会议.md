本文介绍如何通过网易会议组件创建会议，并查询会议信息。

## 前提条件

根据本文操作前，请确保您已经完成了 [登录鉴权](https://doc.yunxin.163.com/meeting/guide/DI1MTY4Njc?platform=linux)。

## <span id="创建会议">创建会议</span>

参考以下描述创建并开始一个新的会议。

1. 配置创建会议相关参数 [`NEStartMeetingParams`](https://doc.yunxin.163.com/docs/interface/meetingkit/linux/doxygen/Latest/zh/class_n_e_start_meeting_params.html) 和 [`NEStartMeetingOptions`](https://doc.yunxin.163.com/docs/interface/meetingkit/linux/doxygen/Latest/zh/class_n_e_start_meeting_options.html)。

   **示例代码如下：**

    ```C++
    NEStartMeetingOptions startMeetingOptions = NEStartMeetingOptions();
    std::vector<std::shared_ptr<NEMeetingMenuItem>> fullMoreMenuItems;
    NEMenuItemInfo singleStateItem = {"xx", "自定义单状态"};
    m_singleStateMenuItemPtr = std::make_shared<NESingleStateMenuItem>(102, NEMenuVisibility::VISIBLE_ALWAYS, singleStateItem);
    fullMoreMenuItems.push_back(m_singleStateMenuItemPtr);
    NEMenuItemInfo checkedStateItem = {"xx", "选中状态"};
    NEMenuItemInfo uncheckStateItem = {"xx", "未选中状态"};
    m_checkableMenuItemPtr = std::make_shared<NECheckableMenuItem>(103, NEMenuVisibility::VISIBLE_ALWAYS,checkedStateItem, uncheckStateItem);
    fullMoreMenuItems.push_back(m_checkableMenuItemPtr);
    startMeetingOptions.fullMoreMenuItems = fullMoreMenuItems;
    std::vector<NEMeetingMenuItemPtr> fullToolbarMenuItems;
    fullToolbarMenuItems.push_back(nem_sdk_interface::NEMeetingMenuItems::micMenu());
    std::vector<NEMeetingMenuItemPtr> memberActionMenuItems;
    memberActionMenuItems.push_back(nem_sdk_interface::NEActionMenuItems::audio());
    startMeetingOptions.memberActionMenuItems = memberActionMenuItems;
    startMeetingOptions.fullToolbarMenuItems = fullToolbarMenuItems;
    ```

    ::: note note
    - 创建会议时，您可以将会议号配置为个人会议号（可登录后通过 `AccountService` 获取）。您也可以选择置空会议号，并由服务器随机分配会议号。
    - 网易会议组件 SDK 提供多个创会选项供您配置，您可根据需要自定义会中的 UI 显示、菜单、行为等。若您设置 `NEStartMeetingOptions` 参数为 null，SDK 会使用会议设置服务中已保存的相关配置进行创会/入会。
    - 具体如何自定义 **Toolbar** 和 **更多** 菜单请参考 [自定义菜单](https://doc.yunxin.163.com/meeting/guide/Tk4ODg3MTI?platform=linux)。
    :::

2. 调用 [`startMeeting`](https://doc.yunxin.163.com/docs/interface/meetingkit/linux/doxygen/Latest/zh/class_n_e_meeting_service.html#a22683772dcd2adc46e35b4860e04ddbe) 方法创建会议并进行回调处理。该接口无额外回调结果数据，您可根据错误码判断接口是否调用成功。

    ::: note note
    该接口仅支持 **在登录鉴权成功后调用**，其他情况下会调用失败。
    :::

   **示例代码如下：**

    ```C++
    NEStartMeetingParams param;
        QByteArray byteArray = objectToString(parameters["param"].toObject()).toUtf8();
        xpack::json::decode(byteArray.data(), param);
        NEStartMeetingOptions opts;
        byteArray = objectToString(parameters["opts"].toObject()).toUtf8();
        xpack::json::decode(byteArray.data(), opts);
        m_meetingService->startMeeting(param, opts, [this](MeetingErrorCode errorCode, const std::string& errorMessage) {
            PrintLog("MeetingSDK startMeeting errorCode: " + std::to_string(errorCode) + ", errorMessage: " + errorMessage);
        });
    ```

3. 会议成功创建后，SDK 会拉起会议界面并接管会议逻辑：创建会议的用户会自动成为该会议的主持人，可以进行相关的会议控制操作。其他用户可以通过该会议号入会。

## <span id="获取当前会议信息">获取当前会议信息</span>

调用 [`getCurrentMeetingInfo`](https://doc.yunxin.163.com/docs/interface/meetingkit/linux/doxygen/Latest/zh/class_n_e_meeting_service.html#ac18903de29f544e9755ab9eb5e8c9b1d) 方法获取当前会议信息并进行回调处理。该接口的回调结果的数据类型为 NEMeetingInfo 对象类型。

::: note note
请确认已经通过一种入会方式（加入会议/创建会议/匿名入会）加入到会议内，否则回调数据对象为空。
:::

**示例代码如下：**

```C++
m_meetingService->getCurrentMeetingInfo([this](
                                                    MeetingErrorCode errorCode, const std::string& errorMessage, const NEMeetingInfo& meetingInfo) {
        });
```